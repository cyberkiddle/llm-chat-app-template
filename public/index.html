<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Cyberkid AI Chat</title>

<!-- Markdown Renderer -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<style>
:root {
	--primary: #f6821f;
	--bg-dark: #020617;
	--bg-light: #f8fafc;
	--surface-dark: rgba(255,255,255,.08);
	--surface-light: #ffffff;
	--text-dark: #e5e7eb;
	--text-light: #020617;
	--muted: #9ca3af;
}

body.light {
	background: var(--bg-light);
	color: var(--text-light);
}

body {
	font-family: Inter, system-ui, sans-serif;
	background: radial-gradient(circle at top, #020617, #000);
	color: var(--text-dark);
	min-height: 100vh;
	display: flex;
	justify-content: center;
	padding: 1rem;
}

.app {
	width: 100%;
	max-width: 850px;
	display: flex;
	flex-direction: column;
}

header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 1rem;
}

h1 {
	font-size: 1.9rem;
	background: linear-gradient(90deg, #f6821f, #ffd166);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
}

.toggle {
	cursor: pointer;
	border: none;
	background: none;
	font-size: 1.2rem;
}

.chat {
	flex: 1;
	background: var(--surface-dark);
	backdrop-filter: blur(16px);
	border-radius: 16px;
	border: 1px solid rgba(255,255,255,.12);
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

body.light .chat {
	background: var(--surface-light);
	border-color: #e5e7eb;
}

.messages {
	flex: 1;
	padding: 1rem;
	overflow-y: auto;
}

.msg {
	display: flex;
	gap: .6rem;
	margin-bottom: .9rem;
	animation: fade .25s ease;
}

.avatar {
	width: 36px;
	height: 36px;
	border-radius: 50%;
	background: linear-gradient(135deg, #f6821f, #ffb703);
	display: flex;
	align-items: center;
	justify-content: center;
	font-weight: bold;
	color: #000;
}

.user .avatar {
	background: linear-gradient(135deg, #38bdf8, #06b6d4);
}

.bubble {
	padding: .75rem 1rem;
	border-radius: 14px;
	max-width: 75%;
	background: rgba(255,255,255,.12);
}

.user .bubble {
	margin-left: auto;
	background: linear-gradient(135deg, #38bdf8, #06b6d4);
	color: #000;
}

.typing {
	display: flex;
	gap: 4px;
	padding: .5rem 1rem;
}

.dot {
	width: 6px;
	height: 6px;
	background: var(--muted);
	border-radius: 50%;
	animation: blink 1.4s infinite both;
}

.dot:nth-child(2){animation-delay:.2s}
.dot:nth-child(3){animation-delay:.4s}

.input {
	display: flex;
	gap: .6rem;
	padding: .8rem;
	border-top: 1px solid rgba(255,255,255,.12);
}

textarea {
	flex: 1;
	resize: none;
	border-radius: 10px;
	border: none;
	padding: .7rem;
	font-family: inherit;
}

button.send {
	padding: 0 1.3rem;
	border-radius: 10px;
	border: none;
	background: linear-gradient(135deg, #f6821f, #ff9f43);
	font-weight: bold;
	cursor: pointer;
}

@keyframes blink {
	0%,80%,100%{opacity:0}
	40%{opacity:1}
}

@keyframes fade {
	from{opacity:0;transform:translateY(5px)}
	to{opacity:1}
}

@media(max-width:600px){
	h1{font-size:1.4rem}
	.bubble{max-width:85%}
}
</style>
</head>

<body>
<div class="app">
	<header>
		<h1>Cyberkid AI</h1>
		<button class="toggle" onclick="toggleTheme()">ðŸŒ—</button>
	</header>

	<div class="chat">
		<div class="messages" id="messages">
			<div class="msg ai">
				<div class="avatar">ðŸ¤–</div>
				<div class="bubble">
					<strong>Welcome!</strong><br>
					Iâ€™m your Cyberkid AI assistant.<br>
					Ask me anything about <code>security</code>, <code>AI</code> or <code>hacking</code>.
				</div>
			</div>
		</div>

		<div class="typing" id="typing" style="display:none">
			<div class="dot"></div><div class="dot"></div><div class="dot"></div>
		</div>

		<div class="input">
			<textarea id="input" rows="1" placeholder="Type a messageâ€¦"></textarea>
			<button class="send" onclick="send()">Send</button>
		</div>
	</div>
</div>

<script>
const body = document.body;
const messages = document.getElementById("messages");
const typing = document.getElementById("typing");

function toggleTheme(){
	body.classList.toggle("light");
	localStorage.theme = body.classList.contains("light") ? "light" : "dark";
}

if(localStorage.theme === "light") body.classList.add("light");

function addMsg(role, text){
	const div = document.createElement("div");
	div.className = "msg " + role;
	div.innerHTML = `
		<div class="avatar">${role === "user" ? "ðŸ§‘" : "ðŸ¤–"}</div>
		<div class="bubble">${marked.parse(text)}</div>
	`;
	messages.appendChild(div);
	messages.scrollTop = messages.scrollHeight;
}

function send(){
	const input = document.getElementById("input");
	if(!input.value.trim()) return;
	addMsg("user", input.value);
	input.value = "";
	typing.style.display = "flex";

	// simulate AI reply (replace with Workers AI response)
	setTimeout(()=>{
		typing.style.display = "none";
		addMsg("ai", "**AI Response:** This UI is now ðŸ”¥ *beautiful*, fast and hacker-ready.");
	},1200);
}
</script>
</body>
</html>
